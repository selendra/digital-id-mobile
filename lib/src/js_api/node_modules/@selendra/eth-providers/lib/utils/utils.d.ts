import { FrameSystemEventRecord } from '@polkadot/types/lookup';
import { Extrinsic } from '@polkadot/types/interfaces';
import { AnyFunction } from '@polkadot/types/types';
import { BigNumber } from 'ethers';
import { BlockTag, Eip1898BlockTag } from 'src/base-provider';
import { CacheInspect } from './BlockCache';
import { _Metadata } from './gqlTypes';
export interface EthCallTimingResult {
    gasPriceTime: number;
    estimateGasTime: number;
    getBlockTime: number;
    getFullBlockTime: number;
}
export interface HealthResult {
    isHealthy: boolean;
    isSubqlOK: boolean;
    isCacheOK: boolean;
    isRPCOK: boolean;
    msg: string[];
    moreInfo: {
        cachedBlocksCount: number;
        maxCachedBlocksCount: number;
        lastProcessedHeight: number;
        targetHeight: number;
        curFinalizedHeight: number;
        lastProcessedTimestamp: number;
        curTimestamp: number;
        idleSeconds: number;
        idleBlocks: number;
        indexerHealthy: boolean;
        ethCallTiming: EthCallTimingResult;
        listenersCount: {
            newHead: number;
            logs: number;
        };
    };
}
export interface HealthData {
    indexerMeta?: _Metadata;
    cacheInfo?: CacheInspect;
    curFinalizedHeight: number;
    ethCallTiming: EthCallTimingResult;
    listenersCount: {
        newHead: number;
        logs: number;
    };
}
export declare const sleep: (interval?: number) => Promise<null>;
export declare const promiseWithTimeout: <T = any>(value: any, interval?: number) => Promise<T>;
export declare const isEvmExtrinsic: (e: Extrinsic) => boolean;
export declare const isEvmEvent: (e: FrameSystemEventRecord) => boolean;
export declare const isOrphanEvmEvent: (e: FrameSystemEventRecord) => boolean;
export declare const runWithRetries: <F extends AnyFunction>(fn: F, args?: any[], maxRetries?: number, interval?: number) => Promise<F extends (...args: any[]) => infer R ? R : never>;
export declare const getHealthResult: ({ indexerMeta, cacheInfo, curFinalizedHeight, ethCallTiming, listenersCount }: HealthData) => HealthResult;
export declare const runWithTiming: <F extends AnyFunction>(fn: F, repeats?: number) => Promise<{
    time: number;
    res: F extends (...args: any[]) => infer R ? string | R : any;
}>;
export declare const nativeToEthDecimal: (value: any, nativeDecimals?: number) => BigNumber;
export declare const parseBlockTag: (_blockTag: BlockTag | Promise<BlockTag> | Eip1898BlockTag | undefined) => Promise<string | number | undefined>;
//# sourceMappingURL=utils.d.ts.map